---
// Button
// ------------
// Description: Buttons are interactive elements activated by a user with a mouse, keyboard, or tap
// Properties:
// - Type: the type of the button (link, button, submit, reset). If its type is link, the button will be rendered as an anchor tag
// - Size: the size of the button (lg, base, sm)
// - Link: the link of the button (if type is link)
// - Modal: The id of the modal that the button can trigger (optional)
// - Style: the style of the button (primary, secondary, neutral)
// - Variation: the variation of the button (defaultoutline, link)
// - Elevated: whether the button is elevated or not (optional)
// - classes: additional classes
// Reference: https://wind-ui.com/components/buttons/

// Props
type Props = {
	type?: 'link' | 'button' | 'submit' | 'reset'
	size?: 'lg' | 'base' | 'sm'
	link?: string
	modal?: string
	style?: 'primary' | 'secondary' | 'neutral' | 'white'
	variation?: 'outline' | 'link'
	elevated?: boolean
	classes?: string
}
const {
	type = 'button',
	size = 'base',
	link,
	modal,
	style = 'primary',
	variation,
	elevated,
	classes
} = Astro.props
---

{
	type === 'link' || link ? (
		<a
			href={link}
			target={link?.startsWith('http') ? '_blank' : '_self'}
			class:list={[
				'button',
				{ ['button--' + `${size}`]: size },
				{ ['button--' + `${style}`]: style },
				{ ['button--' + `${variation}`]: variation },
				{ ['button--elevated']: elevated },
				{ [`${classes}`]: classes }
			]}
		>
			<slot />
		</a>
	) : (
		<button
			type={type}
			class:list={[
				'button',
				{ ['button--' + `${size}`]: size },
				{ ['button--' + `${style}`]: style },
				{ ['button--' + `${variation}`]: variation },
				{ ['button--elevated']: elevated },
				{ [`${classes}`]: classes }
			]}
			{...(modal ? { 'data-modal': modal } : {})}
		>
			<slot />
		</button>
	)
}
<style>
	.button {
		display: inline-flex;
		cursor: pointer;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		white-space: nowrap;
		border-radius: 0.5rem;
		font-weight: 700;
		letter-spacing: 0.025em;
		transition-property: all;
		transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
		transition-duration: 300ms;
		position: relative;
		z-index: 1;
		overflow: hidden;
	}
	
	.button::after {
		content: '';
		position: absolute;
		top: 50%;
		left: 50%;
		width: 0;
		height: 0;
		border-radius: 50%;
		background: rgba(255, 255, 255, 0.3);
		transform: translate(-50%, -50%);
		transition: width 0.6s, height 0.6s;
		z-index: -1;
	}
	
	.button:hover::after {
		width: 300px;
		height: 300px;
	}
	
	.button > * {
		position: relative;
		z-index: 2;
	}
	
	.button:focus-visible {
		outline: 2px solid transparent;
		outline-offset: 2px;
	}
	
	.button:disabled {
		cursor: not-allowed;
		box-shadow: none;
	}

	.button--lg {
		height: 3rem;
		padding-left: 1.5rem;
		padding-right: 1.5rem;
		font-size: 0.875rem;
		line-height: 1.25rem;
	}
	
	.button--lg.button--elevated {
		box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	}
	
	.button--lg.button--elevated:hover,
	.button--lg.button--elevated:focus {
		box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	}

	.button--base {
		height: 2.5rem;
		padding-left: 1.25rem;
		padding-right: 1.25rem;
		font-size: 0.875rem;
		line-height: 1.25rem;
	}
	
	.button--base.button--elevated {
		box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	}
	
	.button--base.button--elevated:hover,
	.button--base.button--elevated:focus {
		box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	}

	.button--sm {
		height: 2rem;
		padding-left: 1rem;
		padding-right: 1rem;
		font-size: 0.75rem;
		line-height: 1rem;
	}
	
	.button--sm.button--elevated {
		box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	}
	
	.button--sm.button--elevated:hover,
	.button--sm.button--elevated:focus {
		box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	}
	
	.button--outline {
		border-width: 1px;
	}
	
	.button--link {
		display: inline-flex;
		align-items: center;
		justify-content: flex-start;
		gap: 0.5rem;
		padding-left: 0;
		padding-right: 0;
		font-weight: 400;
	}
	
	.button--primary {
		background: linear-gradient(135deg, theme('colors.primary.500') 0%, theme('colors.primary.500') 100%);
		color: rgb(255 255 255);
		border: none;
		position: relative;
		overflow: hidden;
	}
	
	.button--primary::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(135deg, theme('colors.primary.500') 0%, theme('colors.primary.500') 100%);
		opacity: 0;
		transition: opacity 300ms;
		z-index: -1;
	}
	
	.button--primary:hover::before {
		opacity: 1;
	}
	
	.button--primary:hover {
		transform: translateY(-2px) scale(1.02);
		box-shadow: 0 20px 60px theme('colors.primary.500 / 0.4');
	}
	
	.button--primary:active {
		transform: translateY(0) scale(0.98);
	}
	
	.button--primary:focus {
		background: linear-gradient(135deg, theme('colors.primary.500') 0%, theme('colors.primary.500') 100%);
	}
	
	.button--primary:disabled {
		background: linear-gradient(135deg, theme('colors.neutral.300') 0%, theme('colors.neutral.200') 100%);
		opacity: 0.5;
		transform: none;
		cursor: not-allowed;
	}
	
	.button--primary.button--elevated {
		box-shadow: 0 10px 40px theme('colors.primary.500 / 0.3');
	}
	
	.button--primary.button--elevated:hover,
	.button--primary.button--elevated:focus {
		box-shadow: 0 20px 60px theme('colors.primary.500 / 0.5');
	}
	
	.button--primary.button--link {
		background: transparent;
		color: theme('colors.primary.500');
	}
	
	.button--primary.button--link::before {
		display: none;
	}
	
	.button--primary.button--link:hover,
	.button--primary.button--link:focus {
		color: theme('colors.primary.500');
		transform: translateX(4px);
	}
	
	.button--primary.button--outline {
		border: 2px solid theme('colors.primary.500');
		background: transparent;
		color: theme('colors.primary.500');
		box-shadow: 0 0 0 theme('colors.primary.500 / 0');
	}
	
	.button--primary.button--outline::before {
		display: none;
	}
	
	.button--primary.button--outline:hover {
		border-color: theme('colors.primary.500');
		background: theme('colors.primary.500 / 0.1');
		color: theme('colors.primary.500');
		box-shadow: 0 10px 40px theme('colors.primary.500 / 0.2');
		transform: translateY(-2px);
	}
	
	.button--primary.button--outline:active {
		transform: translateY(0);
	}

	.button--secondary {
		background: linear-gradient(135deg, theme('colors.neutral.50') 0%, theme('colors.neutral.100') 100%);
		color: theme('colors.primary.500');
		border: none;
	}

	.button--secondary:hover {
		background: linear-gradient(135deg, theme('colors.neutral.100') 0%, theme('colors.neutral.200') 100%);
		color: theme('colors.primary.500');
		transform: translateY(-2px);
	}

	.button--secondary:focus {
		background: linear-gradient(135deg, theme('colors.neutral.200') 0%, theme('colors.neutral.300') 100%);
		color: theme('colors.primary.500');
	}

	.button--secondary:disabled {
		background: linear-gradient(135deg, theme('colors.neutral.50') 0%, theme('colors.neutral.100') 100%);
		color: theme('colors.neutral.300');
		opacity: 0.5;
	}

	.button--secondary.button--elevated {
		box-shadow: 0 10px 40px theme('colors.primary.500 / 0.2');
	}

	.button--secondary.button--elevated:hover,
	.button--secondary.button--elevated:focus {
		box-shadow: 0 20px 60px theme('colors.primary.500 / 0.3');
	}

	.button--secondary.button--link {
		background: transparent;
		color: theme('colors.primary.500');
	}

	.button--secondary.button--link:hover,
	.button--secondary.button--link:focus {
		color: theme('colors.primary.500');
	}

	.button--secondary.button--link :global(svg) {
		stroke: theme('colors.primary.500');
	}

	.button--secondary.button--outline {
		border: 2px solid theme('colors.primary.500');
		background: transparent;
		color: theme('colors.primary.500');
	}

	.button--secondary.button--outline:hover {
		border-color: theme('colors.primary.500');
		background: theme('colors.primary.500 / 0.05');
		color: theme('colors.primary.500');
	}

	.button--secondary :global(svg) {
		stroke: theme('colors.primary.500');
	}

	.button--neutral {
		background: linear-gradient(135deg, #404040 0%, #262626 100%);
		color: rgb(255 255 255);
		border: none;
	}
	
	.button--neutral:hover {
		background: linear-gradient(135deg, #262626 0%, #171717 100%);
		transform: translateY(-2px);
	}
	
	.button--neutral:focus {
		background: linear-gradient(135deg, #171717 0%, #0a0a0a 100%);
	}
	
	.button--neutral:disabled {
		background: linear-gradient(135deg, #d4d4d4 0%, #a3a3a3 100%);
		opacity: 0.5;
	}
	
	.button--neutral.button--elevated {
		box-shadow: 0 10px 40px rgba(64, 64, 64, 0.3);
	}
	
	.button--neutral.button--elevated:hover,
	.button--neutral.button--elevated:focus {
		box-shadow: 0 20px 60px rgba(64, 64, 64, 0.4);
	}
	
	.button--neutral.button--link {
		background: transparent;
		color: rgb(64 64 64);
	}
	
	.button--neutral.button--link:hover {
		color: rgb(38 38 38);
	}
	
	.button--neutral.button--link:focus {
		color: rgb(23 23 23);
	}
	
	.button--neutral.button--outline {
		border: 2px solid rgb(64 64 64);
		background: transparent;
		color: rgb(64 64 64);
	}
	
	.button--neutral.button--outline:hover {
		border-color: rgb(38 38 38);
		background: rgba(64, 64, 64, 0.05);
		color: rgb(38 38 38);
	}

	.button--white {
		background-color: rgb(255 255 255);
		color: rgb(255 255 255);
	}
	
	.button--white:disabled {
		border-color: rgb(212 212 212);
		background-color: rgb(212 212 212);
	}
	
	.button--white.button--elevated {
		box-shadow: 0 4px 6px -1px rgb(115 115 115 / 0.3), 0 2px 4px -2px rgb(115 115 115 / 0.3);
	}
	
	.button--white.button--elevated:hover,
	.button--white.button--elevated:focus {
		box-shadow: 0 4px 6px -1px rgb(115 115 115 / 0.3), 0 2px 4px -2px rgb(115 115 115 / 0.3);
	}
	
	.button--white.button--link {
		background-color: transparent;
		color: rgb(255 255 255);
	}
	
	.button--white.button--outline {
		border-color: rgb(255 255 255);
		background-color: transparent;
		color: rgb(255 255 255);
	}
</style>
